Search.setIndex({"alltitles": {"1. CLI Steps": [[13, "cli-steps"]], "1. pyenv": [[9, "pyenv"]], "2. GitHub Steps": [[13, "github-steps"]], "2. pyenv-virtualenvwrapper": [[9, "pyenv-virtualenvwrapper"]], "3. Get the repo & initialise the repo environment": [[9, "get-the-repo-initialise-the-repo-environment"]], "4. Install Python requirements into the virtual environment using Poetry": [[9, "install-python-requirements-into-the-virtual-environment-using-poetry"]], "5. zsh-autoswitch-virtualenv": [[9, "zsh-autoswitch-virtualenv"]], "6. Install Poetry Up": [[9, "install-poetry-up"]], "7. Add secrets into .env": [[9, "add-secrets-into-env"]], "8. Initialise the detect-secrets pre-commit hook": [[9, "initialise-the-detect-secrets-pre-commit-hook"]], "9. Project-specific setup": [[9, "project-specific-setup"]], "API Reference": [[0, "api-reference"]], "Attributes": [[3, "attributes"]], "Classes": [[2, "classes"], [3, "classes"], [4, "classes"], [5, "classes"], [6, "classes"]], "Contents:": [[10, null]], "Definition of a \u201csecret\u201d according to detect-secrets": [[8, "definition-of-a-secret-according-to-detect-secrets"]], "Functions": [[3, "functions"], [7, "functions"]], "Getting Started": [[9, "getting-started"]], "If pre-commit detects secrets during commit": [[8, "if-pre-commit-detects-secrets-during-commit"]], "Indices and tables": [[10, "indices-and-tables"]], "Initial setup": [[8, "initial-setup"]], "Inline allowlisting (recommended)": [[8, "inline-allowlisting-recommended"]], "Install system-level dependencies with homebrew": [[11, "install-system-level-dependencies-with-homebrew"]], "Installation on Ubuntu": [[9, "installation-on-ubuntu"], [9, "id2"]], "Installation on macOS": [[9, "installation-on-macos"], [9, "id1"]], "Jupyter kernel": [[11, "jupyter-kernel"]], "Module Contents": [[2, "module-contents"], [3, "module-contents"], [4, "module-contents"], [5, "module-contents"], [6, "module-contents"], [7, "module-contents"]], "Package Contents": [[1, "package-contents"]], "Part 1: Generic Python setup": [[12, "part-1-generic-python-setup"]], "Part 2: Project-specific setup": [[12, "part-2-project-specific-setup"]], "Poetry FAQ": [[15, "poetry-faq"]], "Poetry tl;dr": [[15, "poetry-tl-dr"]], "Project-specific setup": [[11, "project-specific-setup"]], "Quickstart": [[12, "quickstart"]], "Release Process": [[13, "release-process"]], "Submodules": [[1, "submodules"]], "Updating .secrets.baseline": [[8, "updating-secrets-baseline"]], "Updating Python requirements using Poetry": [[15, "updating-python-requirements-using-poetry"]], "Updating requirements": [[14, "updating-requirements"]], "Using the detect-secrets pre-commit hook": [[8, "using-the-detect-secrets-pre-commit-hook"]], "Welcome to obvs\u2019s documentation!": [[10, "welcome-to-obvs-s-documentation"]], "bash": [[9, "bash"]], "obvs": [[1, "module-obvs"]], "obvs.lenses": [[2, "module-obvs.lenses"]], "obvs.logging": [[3, "module-obvs.logging"]], "obvs.metrics": [[4, "module-obvs.metrics"]], "obvs.patchscope": [[5, "module-obvs.patchscope"]], "obvs.patchscope_base": [[6, "module-obvs.patchscope_base"]], "obvs.vis": [[7, "module-obvs.vis"]], "zsh": [[9, "zsh"]]}, "docnames": ["autoapi/index", "autoapi/obvs/index", "autoapi/obvs/lenses/index", "autoapi/obvs/logging/index", "autoapi/obvs/metrics/index", "autoapi/obvs/patchscope/index", "autoapi/obvs/patchscope_base/index", "autoapi/obvs/vis/index", "detect_secrets", "getting_started", "index", "project_specific_setup", "quickstart", "release_process", "updating_requirements", "using_poetry"], "envversion": {"sphinx": 61, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["autoapi/index.rst", "autoapi/obvs/index.rst", "autoapi/obvs/lenses/index.rst", "autoapi/obvs/logging/index.rst", "autoapi/obvs/metrics/index.rst", "autoapi/obvs/patchscope/index.rst", "autoapi/obvs/patchscope_base/index.rst", "autoapi/obvs/vis/index.rst", "detect_secrets.md", "getting_started.md", "index.rst", "project_specific_setup.md", "quickstart.md", "release_process.md", "updating_requirements.md", "using_poetry.md"], "indexentries": {"__version__ (in module obvs)": [[1, "obvs.__version__", false]], "_nextloop() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity._nextloop", false]], "_output_token_ids() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase._output_token_ids", false]], "_prompt (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext._prompt", false]], "_soft_prompt (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext._soft_prompt", false]], "_source_position (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase._source_position", false]], "_target_position (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase._target_position", false]], "_target_word() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity._target_word", false]], "_text_prompt (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext._text_prompt", false]], "baselogitlens (class in obvs.lenses)": [[2, "obvs.lenses.BaseLogitLens", false]], "batch() (obvs.metrics.precisionatkmetric static method)": [[4, "obvs.metrics.PrecisionAtKMetric.batch", false]], "batch() (obvs.metrics.surprisalmetric static method)": [[4, "obvs.metrics.SurprisalMetric.batch", false]], "check_patchscope_setup() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.check_patchscope_setup", false]], "classiclogitlens (class in obvs.lenses)": [[2, "obvs.lenses.ClassicLogitLens", false]], "clear() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.clear", false]], "compute() (obvs.metrics.precisionatkmetric method)": [[4, "obvs.metrics.PrecisionAtKMetric.compute", false]], "compute() (obvs.metrics.surprisalmetric method)": [[4, "obvs.metrics.SurprisalMetric.compute", false]], "compute_precision_at_1() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.compute_precision_at_1", false]], "compute_surprisal() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity.compute_surprisal", false]], "compute_surprisal() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.compute_surprisal", false]], "create_heatmap() (in module obvs.vis)": [[7, "obvs.vis.create_heatmap", false]], "device (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext.device", false]], "emit() (obvs.logging.tqdmlogginghandler method)": [[3, "obvs.logging.TqdmLoggingHandler.emit", false]], "file_formatter (in module obvs.logging)": [[3, "obvs.logging.file_formatter", false]], "file_handler (in module obvs.logging)": [[3, "obvs.logging.file_handler", false]], "filename (obvs.lenses.tokenidentity property)": [[2, "obvs.lenses.TokenIdentity.filename", false]], "find_in_source() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.find_in_source", false]], "find_in_target() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.find_in_target", false]], "from_source() (obvs.patchscope.targetcontext static method)": [[5, "obvs.patchscope.TargetContext.from_source", false]], "full_output() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.full_output", false]], "full_output_tokens() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.full_output_tokens", false]], "get_model_specifics() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.get_model_specifics", false]], "head (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext.head", false]], "identitiy_prompt (obvs.lenses.tokenidentity attribute)": [[2, "obvs.lenses.TokenIdentity.IDENTITIY_PROMPT", false]], "layer (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext.layer", false]], "llama_output() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.llama_output", false]], "load() (obvs.patchscope.modelloader static method)": [[5, "obvs.patchscope.ModelLoader.load", false]], "logger (in module obvs.logging)": [[3, "obvs.logging.logger", false]], "logits() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.logits", false]], "manipulate_source() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.manipulate_source", false]], "manipulate_target() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.manipulate_target", false]], "map() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.map", false]], "map() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.map", false]], "mapping_function (obvs.patchscope.targetcontext attribute)": [[5, "obvs.patchscope.TargetContext.mapping_function", false]], "max_new_tokens (obvs.patchscope.targetcontext attribute)": [[5, "obvs.patchscope.TargetContext.max_new_tokens", false]], "model_name (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext.model_name", false]], "modelloader (class in obvs.patchscope)": [[5, "obvs.patchscope.ModelLoader", false]], "module": [[1, "module-obvs", false], [2, "module-obvs.lenses", false], [3, "module-obvs.logging", false], [4, "module-obvs.metrics", false], [5, "module-obvs.patchscope", false], [6, "module-obvs.patchscope_base", false], [7, "module-obvs.vis", false]], "n_layers (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.n_layers", false]], "n_layers_source (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.n_layers_source", false]], "n_layers_target (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.n_layers_target", false]], "obvs": [[1, "module-obvs", false]], "obvs.lenses": [[2, "module-obvs.lenses", false]], "obvs.logging": [[3, "module-obvs.logging", false]], "obvs.metrics": [[4, "module-obvs.metrics", false]], "obvs.patchscope": [[5, "module-obvs.patchscope", false]], "obvs.patchscope_base": [[6, "module-obvs.patchscope_base", false]], "obvs.vis": [[7, "module-obvs.vis", false]], "output() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.output", false]], "over() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.over", false]], "over_pairs() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.over_pairs", false]], "patchscope (class in obvs.patchscope)": [[5, "obvs.patchscope.Patchscope", false]], "patchscopebase (class in obvs.patchscope_base)": [[6, "obvs.patchscope_base.PatchscopeBase", false]], "patchscopelogitlens (class in obvs.lenses)": [[2, "obvs.lenses.PatchscopeLogitLens", false]], "plot_surprisal() (in module obvs.vis)": [[7, "obvs.vis.plot_surprisal", false]], "position (obvs.patchscope.sourcecontext attribute)": [[5, "obvs.patchscope.SourceContext.position", false]], "precisionatkmetric (class in obvs.metrics)": [[4, "obvs.metrics.PrecisionAtKMetric", false]], "prepare_data_array() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity.prepare_data_array", false]], "probabilities() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.probabilities", false]], "prompt (obvs.lenses.tokenidentity property)": [[2, "obvs.lenses.TokenIdentity.prompt", false]], "prompt (obvs.patchscope.sourcecontext attribute)": [[5, "id0", false]], "prompt (obvs.patchscope.sourcecontext property)": [[5, "obvs.patchscope.SourceContext.prompt", false]], "remote (obvs.patchscope.patchscope attribute)": [[5, "obvs.patchscope.Patchscope.REMOTE", false]], "run() (obvs.lenses.classiclogitlens method)": [[2, "obvs.lenses.ClassicLogitLens.run", false]], "run() (obvs.lenses.patchscopelogitlens method)": [[2, "obvs.lenses.PatchscopeLogitLens.run", false]], "run() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity.run", false]], "run() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.run", false]], "run() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.run", false]], "run_and_compute() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity.run_and_compute", false]], "save_to_file() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity.save_to_file", false]], "set_tqdm_logging() (in module obvs.logging)": [[3, "obvs.logging.set_tqdm_logging", false]], "soft_prompt (obvs.patchscope.sourcecontext property)": [[5, "obvs.patchscope.SourceContext.soft_prompt", false]], "source_forward_pass() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.source_forward_pass", false]], "source_forward_pass() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.source_forward_pass", false]], "source_position_tokens() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.source_position_tokens", false]], "source_token_ids (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.source_token_ids", false]], "source_tokens (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.source_tokens", false]], "sourcecontext (class in obvs.patchscope)": [[5, "obvs.patchscope.SourceContext", false]], "surprisalmetric (class in obvs.metrics)": [[4, "obvs.metrics.SurprisalMetric", false]], "target_forward_pass() (obvs.patchscope.patchscope method)": [[5, "obvs.patchscope.Patchscope.target_forward_pass", false]], "target_forward_pass() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.target_forward_pass", false]], "target_position_tokens() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.target_position_tokens", false]], "target_token_ids (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.target_token_ids", false]], "target_tokens (obvs.patchscope_base.patchscopebase property)": [[6, "obvs.patchscope_base.PatchscopeBase.target_tokens", false]], "targetcontext (class in obvs.patchscope)": [[5, "obvs.patchscope.TargetContext", false]], "text_prompt (obvs.patchscope.sourcecontext property)": [[5, "obvs.patchscope.SourceContext.text_prompt", false]], "tokenidentity (class in obvs.lenses)": [[2, "obvs.lenses.TokenIdentity", false]], "top_k_logits() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.top_k_logits", false]], "top_k_probs() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.top_k_probs", false]], "top_k_tokens() (obvs.patchscope_base.patchscopebase method)": [[6, "obvs.patchscope_base.PatchscopeBase.top_k_tokens", false]], "tqdmlogginghandler (class in obvs.logging)": [[3, "obvs.logging.TqdmLoggingHandler", false]], "update() (obvs.metrics.precisionatkmetric method)": [[4, "obvs.metrics.PrecisionAtKMetric.update", false]], "update() (obvs.metrics.surprisalmetric method)": [[4, "obvs.metrics.SurprisalMetric.update", false]], "visualize() (obvs.lenses.baselogitlens method)": [[2, "obvs.lenses.BaseLogitLens.visualize", false]], "visualize() (obvs.lenses.tokenidentity method)": [[2, "obvs.lenses.TokenIdentity.visualize", false]]}, "objects": {"": [[1, 0, 0, "-", "obvs"]], "obvs": [[1, 1, 1, "", "__version__"], [2, 0, 0, "-", "lenses"], [3, 0, 0, "-", "logging"], [4, 0, 0, "-", "metrics"], [5, 0, 0, "-", "patchscope"], [6, 0, 0, "-", "patchscope_base"], [7, 0, 0, "-", "vis"]], "obvs.lenses": [[2, 2, 1, "", "BaseLogitLens"], [2, 2, 1, "", "ClassicLogitLens"], [2, 2, 1, "", "PatchscopeLogitLens"], [2, 2, 1, "", "TokenIdentity"]], "obvs.lenses.BaseLogitLens": [[2, 3, 1, "", "visualize"]], "obvs.lenses.ClassicLogitLens": [[2, 3, 1, "", "run"]], "obvs.lenses.PatchscopeLogitLens": [[2, 3, 1, "", "run"]], "obvs.lenses.TokenIdentity": [[2, 4, 1, "", "IDENTITIY_PROMPT"], [2, 3, 1, "", "_nextloop"], [2, 3, 1, "", "_target_word"], [2, 3, 1, "", "compute_surprisal"], [2, 5, 1, "", "filename"], [2, 3, 1, "", "prepare_data_array"], [2, 5, 1, "", "prompt"], [2, 3, 1, "", "run"], [2, 3, 1, "", "run_and_compute"], [2, 3, 1, "", "save_to_file"], [2, 3, 1, "", "visualize"]], "obvs.logging": [[3, 2, 1, "", "TqdmLoggingHandler"], [3, 1, 1, "", "file_formatter"], [3, 1, 1, "", "file_handler"], [3, 1, 1, "", "logger"], [3, 6, 1, "", "set_tqdm_logging"]], "obvs.logging.TqdmLoggingHandler": [[3, 3, 1, "", "emit"]], "obvs.metrics": [[4, 2, 1, "", "PrecisionAtKMetric"], [4, 2, 1, "", "SurprisalMetric"]], "obvs.metrics.PrecisionAtKMetric": [[4, 3, 1, "", "batch"], [4, 3, 1, "", "compute"], [4, 3, 1, "", "update"]], "obvs.metrics.SurprisalMetric": [[4, 3, 1, "", "batch"], [4, 3, 1, "", "compute"], [4, 3, 1, "", "update"]], "obvs.patchscope": [[5, 2, 1, "", "ModelLoader"], [5, 2, 1, "", "Patchscope"], [5, 2, 1, "", "SourceContext"], [5, 2, 1, "", "TargetContext"]], "obvs.patchscope.ModelLoader": [[5, 3, 1, "", "load"]], "obvs.patchscope.Patchscope": [[5, 4, 1, "", "REMOTE"], [5, 3, 1, "", "check_patchscope_setup"], [5, 3, 1, "", "clear"], [5, 3, 1, "", "manipulate_source"], [5, 3, 1, "", "manipulate_target"], [5, 3, 1, "", "map"], [5, 3, 1, "", "over"], [5, 3, 1, "", "over_pairs"], [5, 3, 1, "", "run"], [5, 3, 1, "", "source_forward_pass"], [5, 3, 1, "", "target_forward_pass"]], "obvs.patchscope.SourceContext": [[5, 4, 1, "", "_prompt"], [5, 4, 1, "", "_soft_prompt"], [5, 4, 1, "", "_text_prompt"], [5, 4, 1, "", "device"], [5, 4, 1, "", "head"], [5, 4, 1, "", "layer"], [5, 4, 1, "", "model_name"], [5, 4, 1, "", "position"], [5, 4, 1, "id0", "prompt"], [5, 5, 1, "", "soft_prompt"], [5, 5, 1, "", "text_prompt"]], "obvs.patchscope.TargetContext": [[5, 3, 1, "", "from_source"], [5, 4, 1, "", "mapping_function"], [5, 4, 1, "", "max_new_tokens"]], "obvs.patchscope_base": [[6, 2, 1, "", "PatchscopeBase"]], "obvs.patchscope_base.PatchscopeBase": [[6, 3, 1, "", "_output_token_ids"], [6, 5, 1, "", "_source_position"], [6, 5, 1, "", "_target_position"], [6, 3, 1, "", "compute_precision_at_1"], [6, 3, 1, "", "compute_surprisal"], [6, 3, 1, "", "find_in_source"], [6, 3, 1, "", "find_in_target"], [6, 3, 1, "", "full_output"], [6, 3, 1, "", "full_output_tokens"], [6, 3, 1, "", "get_model_specifics"], [6, 3, 1, "", "llama_output"], [6, 3, 1, "", "logits"], [6, 3, 1, "", "map"], [6, 5, 1, "", "n_layers"], [6, 5, 1, "", "n_layers_source"], [6, 5, 1, "", "n_layers_target"], [6, 3, 1, "", "output"], [6, 3, 1, "", "probabilities"], [6, 3, 1, "", "run"], [6, 3, 1, "", "source_forward_pass"], [6, 3, 1, "", "source_position_tokens"], [6, 5, 1, "", "source_token_ids"], [6, 5, 1, "", "source_tokens"], [6, 3, 1, "", "target_forward_pass"], [6, 3, 1, "", "target_position_tokens"], [6, 5, 1, "", "target_token_ids"], [6, 5, 1, "", "target_tokens"], [6, 3, 1, "", "top_k_logits"], [6, 3, 1, "", "top_k_probs"], [6, 3, 1, "", "top_k_tokens"]], "obvs.vis": [[7, 6, 1, "", "create_heatmap"], [7, 6, 1, "", "plot_surprisal"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "data", "Python data"], "2": ["py", "class", "Python class"], "3": ["py", "method", "Python method"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "property", "Python property"], "6": ["py", "function", "Python function"]}, "objtypes": {"0": "py:module", "1": "py:data", "2": "py:class", "3": "py:method", "4": "py:attribute", "5": "py:property", "6": "py:function"}, "terms": {"": [2, 6, 9, 12], "0": [1, 13, 14, 15], "06102": 6, "1": [0, 1, 2, 6, 14, 15], "10": [4, 5, 6], "135": 2, "2": [14, 15], "2021": 8, "2401": 6, "3": [13, 14, 15], "4": 14, "7": 15, "8": 14, "A": [5, 6, 13], "By": [3, 8], "For": [2, 5, 6, 12], "If": [2, 7, 9, 13, 14], "In": [2, 5, 8, 14, 15], "It": [2, 8, 9], "Its": 6, "OR": 15, "The": [2, 3, 4, 5, 6, 7, 8, 9, 15], "Then": 8, "There": [6, 8, 9, 13], "To": [8, 13, 15], "__version__": 1, "_nextloop": 2, "_output_token_id": 6, "_prompt": 5, "_soft_prompt": 5, "_source_posit": 6, "_target_posit": 6, "_target_word": 2, "_text_prompt": 5, "ab": 6, "abc": [2, 5, 6], "about": 13, "abov": 13, "abstract": 6, "accident": [8, 9], "accord": 15, "accordingli": 7, "accumul": 4, "act": 3, "action": 13, "activ": [9, 15], "activate_virtualenv_if_exist": 9, "actual": [3, 8, 9], "ad": [8, 9], "adapt": 8, "add": [5, 6, 8, 13, 15], "addit": [5, 9, 13], "adjust": 12, "after": 9, "again": [13, 15], "against": [6, 8], "agnost": 9, "aka": 6, "alert": [8, 9], "alia": 15, "all": [6, 13, 14, 15], "allow": [5, 8, 9, 12], "alreadi": [8, 9], "also": [8, 13, 15], "although": 15, "amend": [9, 13], "an": [2, 6, 8, 9, 13, 15], "ani": [8, 9, 13, 14], "annot": 7, "anyon": 13, "anyth": [8, 9], "anywher": 4, "api": 10, "appear": 13, "appli": [2, 5], "apt": 9, "ar": [2, 6, 8, 9, 12, 13, 15], "architectur": 5, "arg": [2, 6, 7], "arxiv": 6, "ask": [8, 9], "assign": 13, "assum": 12, "attribut": 6, "audit": [8, 9, 12], "authoris": 9, "auto": [0, 13], "autoapi": 0, "autoload": 9, "automat": [4, 15], "autoswitch": [12, 15], "autoswitch_virtualenv": 9, "avail": [9, 13], "averag": 4, "avh": 13, "axi": 7, "b": [9, 12, 13, 15], "back": 13, "backend": [4, 15], "bar": 7, "base": [2, 3, 4, 5, 6, 13], "baselin": [9, 12], "baselogitlen": 2, "bashrc": 9, "basic": 9, "bat": 2, "batch": [4, 5], "batch_siz": 4, "becaus": 14, "been": [8, 13], "befor": [5, 8, 13], "behaviour": 9, "being": [8, 12], "below": [9, 13, 14, 15], "best": [6, 8], "better": 6, "between": 6, "bin": 9, "bit": 6, "black": 2, "blob": 13, "block": [6, 8], "blue": 14, "bool": [2, 5], "both": 14, "branch": [13, 14], "brew": [9, 11, 13], "bug": 13, "build": [9, 13], "built": 13, "builtin": 9, "bump": [9, 13], "c": 13, "cach": [5, 13], "calcul": 2, "call": 9, "callabl": 5, "can": [2, 3, 5, 6, 8, 13, 15], "cannot": 8, "case": [3, 8, 9], "cat": [9, 12], "caveat": 8, "cd": [9, 15], "cell": 7, "cell_annot": 7, "chang": [2, 8, 9, 13, 15], "changelog": 13, "channel": 13, "cheatsheet": 13, "check": [5, 8, 9, 12, 13, 15], "check_patchscope_setup": 5, "checkout": 13, "ci": 13, "classic": 2, "classiclogitlen": 2, "clean": 13, "clear": [5, 13], "clone": [9, 12], "close": 13, "code": [8, 9], "coeffici": 8, "collect": [2, 5, 6], "com": [9, 13], "combin": 8, "command": [8, 9, 13, 15], "comment": [8, 14], "commit": [12, 13, 14, 15], "compat": [9, 15], "compil": 15, "complet": 13, "comput": [2, 4, 6], "compute_precision_at_1": 6, "compute_surpris": [2, 6], "concaten": 6, "conceiv": 8, "config": [9, 12], "configur": [9, 12], "conflict": 14, "consid": 4, "consol": [8, 9], "constraint": [9, 15], "construct": 5, "contain": [0, 8, 9, 11, 12, 13], "context": 5, "control": 5, "conveni": 2, "cookiecutt": 8, "copi": 13, "correct": [4, 9], "correctli": 5, "correspond": 9, "could": [8, 9], "cover": 9, "cp": [9, 12], "craft": 8, "creat": [0, 2, 7, 8, 9, 12, 13, 14, 15], "create_heatmap": 7, "credit": 8, "curl": 9, "current": [2, 9], "current_virtual_env": 9, "d": 13, "d_vocab": 6, "data": [7, 8], "dataset": 6, "deactiv": 9, "dealt": 6, "decod": 6, "default": [3, 7], "defin": [2, 3, 9], "delet": [13, 15], "denylist": 8, "dep": 15, "depend": [9, 12, 14, 15], "desir": [3, 15], "destin": 3, "detail": [8, 12], "detect": 12, "detect_secret": 9, "detector": 8, "determin": 3, "dev": 9, "develop": [8, 9, 12, 13], "devic": [2, 5], "diff": 8, "differ": [2, 6], "directori": [8, 9], "direnv": [9, 12], "dirnam": 9, "dispatch": 3, "displai": 11, "dist_sync_on_step": 4, "distribut": 4, "do": [3, 13, 14, 15], "doc": [9, 12, 15], "document": [0, 8, 9, 11, 12], "doe": 8, "doesn": 9, "don": [6, 13], "done": 13, "download": 9, "draft": 13, "due": 14, "e": [9, 12, 13, 14, 15], "each": [2, 4, 5, 6], "eat": 2, "edit": [13, 15], "either": [8, 15], "els": 9, "email": 13, "emit": 3, "encount": 14, "ensur": 13, "enter": [8, 9], "enter_password_her": [9, 12], "entri": 13, "entropi": [8, 9], "entrypoint": 1, "env": 12, "environ": [12, 15], "equal": 2, "equival": [9, 15], "essenti": 9, "estim": [4, 6], "estimated_prob": 6, "eval": 9, "evalu": 6, "event": 3, "everi": [2, 8], "everyth": [9, 13], "exampl": [4, 14], "excel": 13, "except": 6, "exclud": [8, 9, 12], "exclude_logg": 3, "exclus": [9, 12], "exist": [9, 15], "experi": 9, "export": [9, 15], "express": 8, "extens": 13, "f": [2, 9, 15], "fail": 14, "fals": [4, 5, 8, 9], "fashion": 2, "featur": 14, "fetch": [13, 15], "few": 6, "fi": 9, "figur": [2, 7], "file": [2, 8, 9, 12, 13, 14, 15], "file_formatt": 3, "file_handl": 3, "file_nam": 2, "filenam": 2, "final": [2, 4], "find": [6, 9], "find_in_sourc": 6, "find_in_target": 6, "finish": 13, "first": 8, "fix": 13, "flag": 9, "float": [6, 7], "flow": 13, "focu": 8, "follow": [2, 6, 8, 9, 12, 13, 14], "forget": 13, "format": [3, 13], "formatt": 3, "forward": 2, "found": [8, 9], "framework": 2, "from": [2, 5, 6, 8, 9, 13, 15], "from_sourc": 5, "full": 8, "full_output": 6, "full_output_token": 6, "fulli": [9, 12], "function": [2, 5, 6, 9], "further": [8, 9, 12], "futur": [8, 9], "g": [9, 12, 13, 14, 15], "gener": [0, 5, 6, 8, 9], "get": [2, 5, 6, 12, 15], "get_model_specif": 6, "getting_start": 12, "git": [9, 12, 13], "github": 9, "given": [2, 7], "go": [2, 7, 8], "good": [8, 13], "govukcookiecutt": 8, "gpt2": [2, 5, 6], "gpu": 2, "graph_object": [2, 7], "great": [13, 15], "green": 14, "gui": 13, "ha": [8, 13], "hacki": [6, 9], "handl": [6, 14], "handler": 3, "happen": 6, "happi": 13, "have": [6, 7, 13, 15], "head": 5, "heatmap": [2, 7], "hello": 2, "helper": [5, 6, 13], "here": [9, 12, 13], "heurist": 8, "hidden": [2, 5], "high": [8, 9], "home": 9, "homebrew": 9, "hook": [13, 14], "how": 15, "http": [6, 9, 13, 15], "i": [2, 3, 4, 5, 6, 8, 9, 13, 14, 15], "id": 2, "ident": [2, 5, 6], "identifi": 8, "identii": 2, "identitiy_prompt": 2, "implement": [2, 3], "import": 6, "includ": 8, "index": [6, 10], "indic": [2, 4, 5], "inform": [8, 9, 13], "ing": 9, "init": 9, "initi": 9, "initialis": 13, "input": [5, 6], "insert_api_key_her": [9, 12], "insid": [7, 9], "instal": [12, 13, 15], "instanc": 3, "instead": 8, "instruct": [9, 11, 12], "int": [2, 5, 6, 7], "integr": [9, 12], "intend": 3, "interact": [8, 9], "interfac": 3, "ipykernel": 11, "isol": 9, "issu": [13, 14], "iter": 5, "its": 8, "itself": 15, "j": 2, "januari": 8, "just": [9, 13], "k": [4, 6, 13], "keep": 13, "keyword": 8, "keyworddetector": 8, "kind": 2, "know": 5, "known": 2, "l": 2, "label": 7, "languagemodel": 5, "larg": 6, "larger": 2, "last": [2, 13], "latest": [9, 13, 14, 15], "layer": [2, 5, 7], "leav": 9, "len": 2, "length": 5, "lens": [0, 1], "level": 9, "libbz2": 9, "libffi": 9, "liblzma": 9, "libncursesw5": 9, "libreadlin": 9, "libsqlite3": 9, "libssl": 9, "libxml2": 9, "libxmlsec1": 9, "like": [8, 13, 14], "limit": 8, "line": [7, 9, 12], "list": [2, 5, 6, 7, 8, 9, 13], "littl": 9, "live": 9, "ll": [8, 9], "llama": 6, "llama2": 6, "llama_output": 6, "load": [5, 9], "local": [9, 13], "lock": [9, 12, 13, 15], "log": [0, 1], "logger": 3, "logit": [2, 4, 6], "logitlen": 2, "logitlens": 2, "longer": 15, "look": [8, 13], "lot": [5, 6], "m": [2, 9, 11, 12, 13], "mai": [8, 9, 13, 15], "main": 13, "mainten": 13, "make": 9, "manag": 15, "manipulate_sourc": 5, "manipulate_target": 5, "manual": [13, 14, 15], "map": [2, 5, 6], "mapping_funct": 5, "markdown": 13, "marker": 15, "master": 13, "match": [6, 14, 15], "matter": 9, "max_new_token": 5, "md": [9, 12, 13], "mean": [8, 15], "member": [13, 15], "memoeri": 2, "memori": 2, "menu": 13, "merg": 13, "messag": [3, 13], "method": [2, 4, 5, 6], "metric": [0, 1, 6], "michaelaquilina": 9, "mileston": 13, "minimum": 13, "minut": 13, "miss": [8, 13], "mistral": 6, "mixtur": 8, "mkvirtualenv": [9, 12], "model": [2, 6, 13], "model_nam": [2, 5, 6], "modelload": 5, "modern": 8, "modul": [1, 10], "more": 9, "multi": 5, "my": [9, 15], "n": [9, 12, 13, 15], "n_layer": 6, "n_layers_sourc": 6, "n_layers_target": 6, "name": [2, 5, 8, 9, 11], "nb": [2, 5, 6], "need": [5, 8, 9, 12, 13, 15], "new": [8, 9, 13, 14, 15], "next": 8, "nextlin": 8, "nice": 9, "nnsight": 5, "none": [2, 3, 4, 5, 6, 7], "norm": 2, "note": [6, 9, 13], "notimplementederror": 3, "now": 13, "number": [8, 13], "nxn": 7, "obv": [0, 11, 13, 15], "obvslib": 13, "old": 15, "onc": [9, 13], "one": [2, 8, 15], "onli": [6, 8, 9, 11, 12], "onto": 9, "onward": 14, "open": 9, "oper": 5, "option": [3, 5, 7, 8, 13, 15], "order": [5, 9, 15], "org": [6, 9, 15], "origin": [9, 13], "other": [8, 9, 13, 14], "out": [5, 6, 9, 14, 15], "output": [2, 5, 6, 8, 15], "outsid": 9, "over": [5, 6, 13], "over_pair": 5, "overload": 9, "overrid": 4, "own": 9, "p": [9, 12, 13], "packag": [8, 14, 15], "page": [0, 10, 13, 15], "pair": 5, "param": 5, "paramet": 5, "parent": 2, "parentdir": 9, "pass": [2, 9], "password": [9, 12], "password123": 8, "patch": [5, 6], "patchscop": [0, 1, 2, 6], "patchscope_bas": [0, 1, 5], "patchscopebas": [5, 6], "patchscopelogitlen": 2, "path": [2, 9], "pathlib2": 15, "pattern": 8, "perhap": 6, "period": 8, "pip": [9, 12], "pipx": 15, "placehold": 3, "pleas": [9, 12, 15], "plot": 7, "plot_surpris": 7, "plotli": [2, 7], "plu": 12, "plugin": [8, 9], "po": 6, "poetri": [12, 13, 14], "poetryup": 14, "posit": [2, 5, 6, 8, 9], "possibl": [9, 13], "post": 13, "practic": 8, "pragma": 8, "pre": [12, 13, 14, 15], "precis": [4, 6], "precision_at_1": 6, "precisionatkmetr": 4, "predict": [2, 4], "prefer": [13, 15], "prepar": 13, "prepare_data_arrai": 2, "present": [4, 8, 9, 15], "prevent": 8, "preview": 13, "print": 7, "probabl": [4, 6], "problem": 9, "process": [8, 9], "project": [13, 15], "project_hom": 9, "project_specific_setup": [9, 12], "prompt": [2, 5, 6], "properli": 6, "properti": [2, 5, 6], "provid": 2, "publish": 13, "pull": 13, "push": [13, 14], "pwd": 9, "py": 2, "pyenv": 12, "pyenv_fil": 9, "pyenv_root": 9, "pyenv_virtualenvwrapper_prefer_pyvenv": 9, "pypi": 13, "pyproject": [9, 13, 15], "pytest": 14, "python": 11, "python_vers": 15, "rais": 3, "rang": 5, "raw": [3, 13], "re": [8, 9, 13, 14], "read": [8, 9], "recommend": 9, "record": 3, "refer": 10, "regener": 14, "regular": 8, "regularli": 9, "relev": 13, "rememb": [8, 9], "remot": 5, "remov": [8, 9, 15], "repeat": 8, "replac": [9, 13], "repo": [12, 13, 15], "repo_git_url": [9, 12], "repositori": [8, 13], "represent": 5, "reproduc": 9, "requir": [8, 13], "requisit": [9, 12], "resolv": [8, 14, 15], "respect": 9, "rest": 9, "result": [2, 4, 6], "return": [2, 4, 5, 6, 7], "review": 13, "rmvirtualenv": 9, "root": [8, 9, 12, 15], "run": [2, 4, 5, 6, 8, 9, 12, 13, 14, 15], "run_and_comput": 2, "sai": 8, "same": [2, 8, 9, 14], "save": [2, 5, 13], "save_to_fil": 2, "scan": [8, 9, 12], "scratch": 15, "search": 10, "secret": 12, "section": 13, "secur": 15, "see": [8, 9, 12, 13, 14], "self": [9, 12], "send": 13, "sensit": 8, "seper": [5, 6], "sequenc": [2, 5, 6], "set": [5, 7, 15], "set_tqdm_log": 3, "sha": [9, 12], "shape": 7, "share": 2, "shell": [9, 12, 15], "shim": 9, "shoe": 2, "should": [2, 7, 8, 9, 15], "shouldn": [13, 15], "show": 2, "simpli": 15, "situat": 14, "size": 6, "skip": 15, "slack": 13, "so": [3, 5, 8, 14, 15], "soft": 5, "soft_prompt": 5, "softwar": 8, "solv": 14, "solverproblemerror": 14, "some": [2, 9], "sourc": [2, 5, 6, 9], "source_forward_pass": [5, 6], "source_lay": [2, 5], "source_phras": 2, "source_position_token": 6, "source_prompt": 2, "source_token": 6, "source_token_id": 6, "sourcecontext": 5, "sourcetre": 13, "space": 6, "specif": [2, 3, 6], "specifi": [2, 3, 5, 9, 15], "sphinx": 0, "src": 14, "stage": [13, 14], "standard": 2, "start": 13, "stash": 13, "state": [2, 4, 5], "statement": 8, "static": [4, 5], "std": 7, "still": 13, "store": [9, 12], "str": [2, 5, 6, 7], "string": [8, 9], "subclass": 3, "subscrib": 13, "substr": [2, 6], "subtleti": 6, "sudo": 9, "summari": 13, "super": 6, "support": [5, 6, 8, 13], "surpris": [2, 4, 6, 7], "surprisal_valu": 7, "surprisalmetr": 4, "sync": [9, 12, 14, 15], "synchron": 4, "sys_platform": 15, "system": 9, "t": [2, 6, 9, 13, 15], "tag": 13, "take": [2, 3, 4], "target": [2, 5, 6], "target_forward_pass": [5, 6], "target_lay": [2, 5], "target_position_token": 6, "target_prompt": 2, "target_token": 6, "target_token_id": 6, "targetcontext": 5, "team": [13, 15], "templat": [9, 12], "tensor": [4, 5, 6], "termin": 9, "test": 9, "text": [5, 7], "text_prompt": 5, "thei": 6, "them": 6, "thi": [0, 2, 3, 4, 5, 6, 8, 9, 11, 12, 13, 14, 15], "thing": [8, 13], "through": 9, "titl": 7, "tk": 9, "togeth": 6, "token": [2, 4, 5, 6], "tokenident": 2, "toml": [9, 13, 15], "tool": 9, "top": [2, 4, 6, 13], "top_k_logit": 6, "top_k_prob": 6, "top_k_token": 6, "top_logits_pr": 2, "topk": 4, "torch": [4, 5, 6], "torchmetr": 4, "towncrier": 13, "tqdmlogginghandl": 3, "trace": 5, "transform": 2, "trip": 8, "true": [2, 4, 6, 9], "true_token_index": [4, 6], "try": [6, 8, 9, 13], "tupl": 6, "two": [8, 14], "txt": 15, "type": 8, "uncom": 14, "understand": 8, "unemb": 2, "unless": [9, 13], "unload": 9, "unset": 9, "until": 14, "up": [2, 5, 12, 13], "updat": [4, 9, 12, 13], "upgrad": [9, 12], "url": 9, "us": [2, 3, 5, 6, 13], "usag": 9, "user": [2, 11], "util": 9, "v": [4, 9, 12, 13], "valu": [4, 7], "vari": 2, "variabl": [4, 8, 9], "ve": 13, "venv": [9, 12], "venv_fil": 9, "venv_test": 9, "verbos": [9, 12], "verifi": [8, 9], "version": [3, 9, 12, 13, 14, 15], "vi": [0, 1], "via": [13, 15], "virtualenv": [12, 15], "virtualenvwrapp": 12, "virtualenvwrapper_lazi": 9, "virtualenvwrapper_python": 9, "visual": 2, "vocabulari": 6, "wa": 13, "wai": [2, 14], "want": [9, 13], "we": [5, 8, 9, 12, 13, 15], "well": 6, "what": [8, 12, 15], "whatev": 3, "when": [4, 8, 9, 15], "whenev": 9, "where": [4, 8], "wherev": 9, "whether": [8, 9], "which": [2, 3, 5, 8, 9], "who": [13, 15], "why": 12, "wide": 2, "win32": 15, "window": [9, 15], "wip": 13, "wish": [13, 15], "within": [8, 13], "wkhtmltopdf": 11, "word": [2, 8], "work": [6, 8, 9, 12, 13, 14], "workon": [9, 15], "workon_hom": 9, "would": 9, "x": [2, 5, 7], "x_data": 7, "x_label": 7, "x_tick": 7, "xz": 9, "y": 7, "y_data": 7, "y_label": 7, "y_tick": 7, "yaml": [9, 12], "yaxi": 7, "ye": 9, "you": [5, 6, 8, 9, 13, 14, 15], "your": [4, 6, 8, 9, 12, 13, 15], "yourself": 15, "z": 9, "zlib1g": 9, "zsh": [12, 15], "zsh_custom": 9, "zshrc": 9}, "titles": ["API Reference", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs.lenses</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs.logging</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs.metrics</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs.patchscope</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs.patchscope_base</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">obvs.vis</span></code>", "Using the <code class=\"docutils literal notranslate\"><span class=\"pre\">detect-secrets</span></code> pre-commit hook", "Getting Started", "Welcome to obvs\u2019s documentation!", "Project-specific setup", "Quickstart", "Release Process", "Updating requirements", "Updating Python requirements using Poetry"], "titleterms": {"": 10, "1": [9, 12, 13], "2": [9, 12, 13], "3": 9, "4": 9, "5": 9, "6": 9, "7": 9, "8": 9, "9": 9, "If": 8, "accord": 8, "add": 9, "allowlist": 8, "api": 0, "attribut": 3, "autoswitch": 9, "baselin": 8, "bash": 9, "class": [2, 3, 4, 5, 6], "cli": 13, "commit": [8, 9], "content": [1, 2, 3, 4, 5, 6, 7, 10], "definit": 8, "depend": 11, "detect": [8, 9], "document": 10, "dr": 15, "dure": 8, "env": 9, "environ": 9, "faq": 15, "function": [3, 7], "gener": 12, "get": 9, "github": 13, "homebrew": 11, "hook": [8, 9], "indic": 10, "initi": 8, "initialis": 9, "inlin": 8, "instal": [9, 11], "jupyt": 11, "kernel": 11, "lens": 2, "level": 11, "log": 3, "maco": 9, "metric": 4, "modul": [2, 3, 4, 5, 6, 7], "obv": [1, 2, 3, 4, 5, 6, 7, 10], "packag": 1, "part": 12, "patchscop": 5, "patchscope_bas": 6, "poetri": [9, 15], "pre": [8, 9], "process": 13, "project": [9, 11, 12], "pyenv": 9, "python": [9, 12, 15], "quickstart": 12, "recommend": 8, "refer": 0, "releas": 13, "repo": 9, "requir": [9, 14, 15], "secret": [8, 9], "setup": [8, 9, 11, 12], "specif": [9, 11, 12], "start": 9, "step": 13, "submodul": 1, "system": 11, "tabl": 10, "tl": 15, "ubuntu": 9, "up": 9, "updat": [8, 14, 15], "us": [8, 9, 15], "vi": 7, "virtual": 9, "virtualenv": 9, "virtualenvwrapp": 9, "welcom": 10, "zsh": 9}})
